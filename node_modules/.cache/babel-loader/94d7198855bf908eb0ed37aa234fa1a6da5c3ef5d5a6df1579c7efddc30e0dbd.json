{"ast":null,"code":"// BlogDashboard.js\nimport React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from\"../services/api\";import BlogCard from\"../components/BlogCard\";import{FaUser,FaSignOutAlt,FaPlus,FaSearch}from\"react-icons/fa\";import\"../styles/dash.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BlogDashboard=()=>{const[blogs,setBlogs]=useState([]);const[search,setSearch]=useState(\"\");const[selectedCategory,setSelectedCategory]=useState(\"All\");const navigate=useNavigate();const fetchBlogs=async()=>{try{const res=await axios.get(\"/blogs\");setBlogs(res.data);}catch(err){console.error(\"Error fetching blogs:\",err);}};useEffect(()=>{fetchBlogs();},[]);const categories=[\"All\",...new Set(blogs.map(blog=>blog.category))];const filteredBlogs=blogs.sort((a,b)=>new Date(b.createdAt)-new Date(a.createdAt)).filter(blog=>blog.title.toLowerCase().includes(search.toLowerCase())&&(selectedCategory===\"All\"||blog.category===selectedCategory));const handleLogout=()=>{localStorage.removeItem(\"token\");navigate(\"/\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"container py-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative w-50\",children:[/*#__PURE__*/_jsx(FaSearch,{className:\"search-icon\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control ps-5\",placeholder:\"Search blogs...\",value:search,onChange:e=>setSearch(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-primary\",onClick:()=>navigate(\"/profile\"),children:[/*#__PURE__*/_jsx(FaUser,{}),\" Profile\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-secondary\",onClick:handleLogout,children:[/*#__PURE__*/_jsx(FaSignOutAlt,{}),\" Sign Out\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn custom-btn-primary\",onClick:()=>navigate(\"/create\"),children:[/*#__PURE__*/_jsx(FaPlus,{}),\" Create New Blog\"]})]})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"fw-bold mb-4\",children:\"Educational Blogs:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 d-flex align-items-center gap-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"categoryFilter\",className:\"fw-semibold\",children:\"Filter by Category:\"}),/*#__PURE__*/_jsx(\"select\",{id:\"categoryFilter\",className:\"form-select w-auto\",value:selectedCategory,onChange:e=>setSelectedCategory(e.target.value),children:categories.map((category,index)=>/*#__PURE__*/_jsx(\"option\",{value:category,children:category},index))})]}),filteredBlogs.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No blogs found.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"row g-4\",children:filteredBlogs.map(blog=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(BlogCard,{blog:blog})},blog._id))})]});};export default BlogDashboard;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","axios","BlogCard","FaUser","FaSignOutAlt","FaPlus","FaSearch","jsx","_jsx","jsxs","_jsxs","BlogDashboard","blogs","setBlogs","search","setSearch","selectedCategory","setSelectedCategory","navigate","fetchBlogs","res","get","data","err","console","error","categories","Set","map","blog","category","filteredBlogs","sort","a","b","Date","createdAt","filter","title","toLowerCase","includes","handleLogout","localStorage","removeItem","className","children","placeholder","value","onChange","e","target","onClick","htmlFor","id","index","length","_id"],"sources":["C:/Users/vaagd/edublog4/frontend/src/pages/BlogDashboard.js"],"sourcesContent":["// BlogDashboard.js\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"../services/api\";\r\nimport BlogCard from \"../components/BlogCard\";\r\nimport { FaUser, FaSignOutAlt, FaPlus, FaSearch } from \"react-icons/fa\";\r\nimport \"../styles/dash.css\";\r\n\r\nconst BlogDashboard = () => {\r\n  const [blogs, setBlogs] = useState([]);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [selectedCategory, setSelectedCategory] = useState(\"All\");\r\n  const navigate = useNavigate();\r\n\r\n  const fetchBlogs = async () => {\r\n    try {\r\n      const res = await axios.get(\"/blogs\");\r\n      setBlogs(res.data);\r\n    } catch (err) {\r\n      console.error(\"Error fetching blogs:\", err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchBlogs();\r\n  }, []);\r\n\r\n  const categories = [\"All\", ...new Set(blogs.map((blog) => blog.category))];\r\n\r\n  const filteredBlogs = blogs\r\n    .sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))\r\n    .filter(\r\n      (blog) =>\r\n        blog.title.toLowerCase().includes(search.toLowerCase()) &&\r\n        (selectedCategory === \"All\" || blog.category === selectedCategory)\r\n    );\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    navigate(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"container py-5\">\r\n      <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n        {/* âœ… Search Input with Icon */}\r\n        <div className=\"position-relative w-50\">\r\n          <FaSearch className=\"search-icon\" />\r\n          <input\r\n            className=\"form-control ps-5\"\r\n            placeholder=\"Search blogs...\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"d-flex gap-3\">\r\n          <button className=\"btn btn-outline-primary\" onClick={() => navigate(\"/profile\")}>\r\n            <FaUser /> Profile\r\n          </button>\r\n          <button className=\"btn btn-outline-secondary\" onClick={handleLogout}>\r\n            <FaSignOutAlt /> Sign Out\r\n          </button>\r\n          <button className=\"btn custom-btn-primary\" onClick={() => navigate(\"/create\")}>\r\n            <FaPlus /> Create New Blog\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <h2 className=\"fw-bold mb-4\">Educational Blogs:</h2>\r\n\r\n      {/* ðŸ§¾ Category Filter Dropdown */}\r\n      <div className=\"mb-4 d-flex align-items-center gap-2\">\r\n        <label htmlFor=\"categoryFilter\" className=\"fw-semibold\">\r\n          Filter by Category:\r\n        </label>\r\n        <select\r\n          id=\"categoryFilter\"\r\n          className=\"form-select w-auto\"\r\n          value={selectedCategory}\r\n          onChange={(e) => setSelectedCategory(e.target.value)}\r\n        >\r\n          {categories.map((category, index) => (\r\n            <option key={index} value={category}>\r\n              {category}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {filteredBlogs.length === 0 ? (\r\n        <p>No blogs found.</p>\r\n      ) : (\r\n        <div className=\"row g-4\">\r\n          {filteredBlogs.map((blog) => (\r\n            <div className=\"col-md-4\" key={blog._id}>\r\n              <BlogCard blog={blog} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BlogDashboard;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CACnC,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAC7C,OAASC,MAAM,CAAEC,YAAY,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,gBAAgB,CACvE,MAAO,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5B,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACe,MAAM,CAAEC,SAAS,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACiB,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAAAmB,QAAQ,CAAGlB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAmB,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAnB,KAAK,CAACoB,GAAG,CAAC,QAAQ,CAAC,CACrCR,QAAQ,CAACO,GAAG,CAACE,IAAI,CAAC,CACpB,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,uBAAuB,CAAEF,GAAG,CAAC,CAC7C,CACF,CAAC,CAEDzB,SAAS,CAAC,IAAM,CACdqB,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAO,UAAU,CAAG,CAAC,KAAK,CAAE,GAAG,GAAI,CAAAC,GAAG,CAACf,KAAK,CAACgB,GAAG,CAAEC,IAAI,EAAKA,IAAI,CAACC,QAAQ,CAAC,CAAC,CAAC,CAE1E,KAAM,CAAAC,aAAa,CAAGnB,KAAK,CACxBoB,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,GAAI,CAAAC,IAAI,CAACD,CAAC,CAACE,SAAS,CAAC,CAAG,GAAI,CAAAD,IAAI,CAACF,CAAC,CAACG,SAAS,CAAC,CAAC,CAC7DC,MAAM,CACJR,IAAI,EACHA,IAAI,CAACS,KAAK,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC1B,MAAM,CAACyB,WAAW,CAAC,CAAC,CAAC,GACtDvB,gBAAgB,GAAK,KAAK,EAAIa,IAAI,CAACC,QAAQ,GAAKd,gBAAgB,CACrE,CAAC,CAEH,KAAM,CAAAyB,YAAY,CAAGA,CAAA,GAAM,CACzBC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC,CAChCzB,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,CAED,mBACER,KAAA,QAAKkC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BnC,KAAA,QAAKkC,SAAS,CAAC,wDAAwD,CAAAC,QAAA,eAErEnC,KAAA,QAAKkC,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCrC,IAAA,CAACF,QAAQ,EAACsC,SAAS,CAAC,aAAa,CAAE,CAAC,cACpCpC,IAAA,UACEoC,SAAS,CAAC,mBAAmB,CAC7BE,WAAW,CAAC,iBAAiB,CAC7BC,KAAK,CAAEjC,MAAO,CACdkC,QAAQ,CAAGC,CAAC,EAAKlC,SAAS,CAACkC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC5C,CAAC,EACC,CAAC,cAENrC,KAAA,QAAKkC,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BnC,KAAA,WAAQkC,SAAS,CAAC,yBAAyB,CAACO,OAAO,CAAEA,CAAA,GAAMjC,QAAQ,CAAC,UAAU,CAAE,CAAA2B,QAAA,eAC9ErC,IAAA,CAACL,MAAM,GAAE,CAAC,WACZ,EAAQ,CAAC,cACTO,KAAA,WAAQkC,SAAS,CAAC,2BAA2B,CAACO,OAAO,CAAEV,YAAa,CAAAI,QAAA,eAClErC,IAAA,CAACJ,YAAY,GAAE,CAAC,YAClB,EAAQ,CAAC,cACTM,KAAA,WAAQkC,SAAS,CAAC,wBAAwB,CAACO,OAAO,CAAEA,CAAA,GAAMjC,QAAQ,CAAC,SAAS,CAAE,CAAA2B,QAAA,eAC5ErC,IAAA,CAACH,MAAM,GAAE,CAAC,mBACZ,EAAQ,CAAC,EACN,CAAC,EACH,CAAC,cAENG,IAAA,OAAIoC,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,oBAAkB,CAAI,CAAC,cAGpDnC,KAAA,QAAKkC,SAAS,CAAC,sCAAsC,CAAAC,QAAA,eACnDrC,IAAA,UAAO4C,OAAO,CAAC,gBAAgB,CAACR,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,qBAExD,CAAO,CAAC,cACRrC,IAAA,WACE6C,EAAE,CAAC,gBAAgB,CACnBT,SAAS,CAAC,oBAAoB,CAC9BG,KAAK,CAAE/B,gBAAiB,CACxBgC,QAAQ,CAAGC,CAAC,EAAKhC,mBAAmB,CAACgC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAAF,QAAA,CAEpDnB,UAAU,CAACE,GAAG,CAAC,CAACE,QAAQ,CAAEwB,KAAK,gBAC9B9C,IAAA,WAAoBuC,KAAK,CAAEjB,QAAS,CAAAe,QAAA,CACjCf,QAAQ,EADEwB,KAEL,CACT,CAAC,CACI,CAAC,EACN,CAAC,CAELvB,aAAa,CAACwB,MAAM,GAAK,CAAC,cACzB/C,IAAA,MAAAqC,QAAA,CAAG,iBAAe,CAAG,CAAC,cAEtBrC,IAAA,QAAKoC,SAAS,CAAC,SAAS,CAAAC,QAAA,CACrBd,aAAa,CAACH,GAAG,CAAEC,IAAI,eACtBrB,IAAA,QAAKoC,SAAS,CAAC,UAAU,CAAAC,QAAA,cACvBrC,IAAA,CAACN,QAAQ,EAAC2B,IAAI,CAAEA,IAAK,CAAE,CAAC,EADKA,IAAI,CAAC2B,GAE/B,CACN,CAAC,CACC,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAA7C,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}